function addCommas(e){e+="";for(var a=e.split("."),t=a[0],i=a.length>1?"."+a[1]:"",s=/(\d+)(\d{3})/;s.test(t);)t=t.replace(s,"$1,$2");return t+i}var allLayers=[{groupHeading:"some layers",showGroupHeading:!0,includeInLayerList:!0,layers:{}},{groupHeading:"some other layers",showGroupHeading:!0,includeInLayerList:!0,layers:{"Pt Feature Layer":{url:"http://wim.usgs.gov/arcgis/rest/services/BadRiverDataPortal/NWIS_Sites/MapServer/0",options:{id:"ptFeatureLayer",visible:!0},wimOptions:{type:"layer",layerType:"agisFeature",includeInLayerList:!0}},"FIM Sites":{url:"http://fimlb-1071089098.us-east-1.elb.amazonaws.com/arcgis/rest/services/FIMMapper/sites/MapServer/0",options:{opacity:.75,visible:!0},wimOptions:{type:"layer",layerType:"agisFeature",includeInLayerList:!0}}}},{groupHeading:"exclusive group",showGroupHeading:!0,includeInLayerList:!0,layers:{"Cat 2":{url:"http://olga.er.usgs.gov/stpgis/rest/services/Vulnerability/NACCH_change_probabilities/MapServer",options:{id:"cat2",layers:[13,14,15],opacity:1},wimOptions:{type:"layer",layerType:"agisDynamic",includeInLayerList:!0,exclusiveGroupName:"Coastal Erosion Hazard",visible:!1}},"Cat 1":{url:"http://olga.er.usgs.gov/stpgis/rest/services/Vulnerability/NACCH_change_probabilities/MapServer",options:{id:"cat1",layers:[5,6,7],opacity:1},wimOptions:{type:"layer",layerType:"agisDynamic",includeInLayerList:!0,exclusiveGroupName:"Coastal Erosion Hazard",visible:!0}}}},{groupHeading:"other map servers",showGroupHeading:!0,includeInLayerList:!0,layers:{Wetlands:{url:"http://107.20.228.18/ArcGIS/rest/services/Wetlands/MapServer",options:{opacity:.75,visible:!0},wimOptions:{type:"layer",layerType:"agisDynamic",includeInLayerList:!0,zoomScale:144448}},"NAWQA networks":{url:"http://wimsharedlb-418672833.us-east-1.elb.amazonaws.com/arcgis/rest/services/NAWQA/tablesTest/MapServer",options:{layers:[1],visible:!0,opacity:.6},wimOptions:{type:"layer",layerType:"agisDynamic",includeInLayerList:!0}}}}];$(document).ready(function(){"use strict";function e(){$("#geosearchModal").modal("show")}function a(){$("#aboutModal").modal("show")}function t(){$("#filtersModal").modal("show")}function i(e){r&&l.removeLayer(r),r=L.esri.basemapLayer(e),l.addLayer(r),s&&l.removeLayer(s),("ShadedRelief"===e||"Oceans"===e||"Gray"===e||"DarkGray"===e||"Imagery"===e||"Terrain"===e)&&(s=L.esri.basemapLayer(e+"Labels"),l.addLayer(s))}var s,l=L.map("mapDiv").setView([39.833333,-98.583333],4),r=L.esri.basemapLayer("Gray").addTo(l);$("#mapDiv").height($("body").height()),l.invalidateSize(),$(".dataTypeRadio").each(function(){$(this).on("click",function(){var e=$(this).attr("id"),a=$("#"+e+"Form");a.show(),$(".hiddenForm").not(a).hide()})}),$(".check").on("click",function(){$(this).find("span").toggle()}),$("#geosearchNav").click(function(){e()}),$("#aboutNav").click(function(){a()}),$("#btnFilters").click(function(){t()}),$("#evtTypeSelect").select2({placeholder:"All Types"}),$("#evtSelect").select2({placeholder:"All Events"}),$("#stateSelect").select2({placeholder:"All Events"}),$("#countySelect").select2({placeholder:"All Events"}),$("#sensorTypeSelect").select2({placeholder:"All Types"}),$("#sensorStatusSelect").select2({placeholder:"All Statuses"}),$("#collectionConditionSelect").select2({placeholder:"All Condtions"}),$("#deployTypeSelect").select2({placeholder:"All Deploy Types"}),$("#hwmTypeSelect").select2({placeholder:"All Types"}),$("#hwmQualitySelect").select2({placeholder:"All Qualities"});$(".basemapBtn").on("click",function(){var e=this.id.replace("btn","");switch(e){case"Streets":e="Streets";break;case"Satellite":e="Imagery";break;case"Topo":e="Topographic";break;case"Terrain":e="ShadedRelief";break;case"Gray":e="Gray";break;case"NatGeo":e="NationalGeographic"}i(e)}),$("#legendButtonNavBar, #legendButtonSidebar").on("click",function(){$("#legend").toggle()}),$("#legendClose").on("click",function(){$("#legend").hide()})});