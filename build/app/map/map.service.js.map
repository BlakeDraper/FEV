{"version":3,"sources":["app/map/map.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAKA;gBAiCI;oBA7BA,4BAA4B;oBACrB,oBAAe,GAAG,IAAI,iCAAe,CAAU,KAAK,CAAC,CAAC;oBACtD,oBAAe,GAAG,IAAI,iCAAe,CAAS,CAAC,CAAC,CAAC;oBAExD,4BAA4B;oBAC5B,eAAU,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;oBACjD,eAAU,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;gBAuBlC,CAAC;gBArBd,oCAAoC;gBACtC,8BAAS,GAAT,UAAU,KAAU;oBAApB,iBAkBC;oBAjBG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE;wBAC1B,WAAW,EAAE,KAAK;wBAClB,MAAM,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC;wBAC3C,IAAI,EAAE,EAAE;wBACR,OAAO,EAAE,CAAC;wBACV,OAAO,EAAE,EAAE;wBACX,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,sDAAsD,EAAE;gCAC3E,WAAW,EAAE,0LAA0L;6BAC1M,CAAC,CAAC;qBACN,CAAC,CAAC;oBAEH,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAEhC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE;wBACnB,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;oBAClD,CAAC,CAAC,CAAC;oBACH,mBAAmB;gBACvB,CAAC;;gBAID,sCAAiB,GAAjB,UAAkB,GAAW;oBACzB,IAAI,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAE9B,CAAC,CAAC,QAAQ,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBACzC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;gBAClE,CAAC;;gBAzCL;oBAAC,iBAAU,EAAE;;8BAAA;gBA0Cb,iBAAC;YAAD,CAzCA,AAyCC,IAAA;YAzCD,mCAyCC,CAAA","file":"app/map/map.service.js","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {Map, TileLayer} from 'leaflet';\r\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\n\r\n@Injectable()\r\nexport class MapService {\r\n    public map: Map;\r\n    public baseMaps: any;\r\n\r\n    // Observable string sources\r\n    public mapLoadedSource = new BehaviorSubject<boolean>(false);\r\n    public zoomLevelSource = new BehaviorSubject<number>(0);\r\n\r\n    // Observable string streams\r\n    mapLoaded$ = this.mapLoadedSource.asObservable();\r\n    zoomLevel$ = this.zoomLevelSource.asObservable();\r\n\r\n      // load a web map and return respons\r\n    createMap(domId: any) {\r\n        this.map = new L.Map(domId, {\r\n          zoomControl: false,\r\n          center: new L.LatLng(40.731253, -73.996139),\r\n          zoom: 12,\r\n          minZoom: 4,\r\n          maxZoom: 19,\r\n          layers: [new L.TileLayer(\"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\", {\r\n                attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, Tiles courtesy of <a href=\"http://hot.openstreetmap.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a>'\r\n            })]\r\n        });\r\n\r\n        this.mapLoadedSource.next(true);\r\n\r\n        this.map.on('zoomend', () => {\r\n            this.zoomLevelSource.next(this.map.getZoom());\r\n        });\r\n        // return this.map;\r\n    };\r\n\r\n    constructor() {}\r\n\r\n    disableMouseEvent(tag: string) {\r\n        var html = L.DomUtil.get(tag);\r\n\r\n        L.DomEvent.disableClickPropagation(html);\r\n        L.DomEvent.on(html, 'mousewheel', L.DomEvent.stopPropagation);\r\n    };\r\n}"],"sourceRoot":"/source/"}