{"version":3,"sources":["app/map/map.component.ts"],"names":[],"mappings":"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","file":"app/map/map.component.js","sourcesContent":["import {Component, OnInit, AfterViewInit} from '@angular/core';\r\n\r\nimport {MapService} from './map.service';\r\nimport {GeocodingService} from './geocode.service';\r\nimport {GeosearchComponent} from './geosearch.component';\r\nimport {LatLngScaleComponent} from './latLngScale.component';\r\n\r\n@Component({\r\n    selector: 'fev-map',\r\n    templateUrl: './app/map/map.component.html',\r\n    styleUrls: ['./app/map/map.component.css'],\r\n    directives: [GeosearchComponent, LatLngScaleComponent],\r\n    providers: [MapService, GeocodingService]\r\n})\r\nexport class MapComponent {\r\n     private mapService: MapService;\r\n     private geocoder: GeocodingService;\r\n     public zoomLevel: number = 0;\r\n     public mapScale: string = \"\";\r\n     public cursorLat: number = 0;\r\n     public cursorLng: number= 0;\r\n     public touchScreen: Boolean = true;\r\n\r\n     constructor(mapService: MapService,  geocoder: GeocodingService) {\r\n        this.mapService = mapService;\r\n        this.geocoder = geocoder;\r\n    }\r\n\r\n    ngOnInit() {\r\n        var map = new L.Map('map', {\r\n          zoomControl: false,\r\n          center: new L.LatLng(40.731253, -73.996139),\r\n          zoom: 12,\r\n          minZoom: 4,\r\n          maxZoom: 19,\r\n          layers: [this.mapService.baseMaps.OpenStreetMap]\r\n        });\r\n\r\n        L.control.zoom({ position: 'topright' }).addTo(map);\r\n        L.control.layers(this.mapService.baseMaps).addTo(map);\r\n\r\n        this.mapService.map = map;\r\n\r\n        this.zoomLevel = map.getZoom();\r\n        this.mapScale = this.scaleLookup(this.zoomLevel);\r\n        console.log('Map scale registered as ' + this.mapScale);\r\n\r\n        map.on('zoomend', () => {\r\n            this.zoomLevel = map.getZoom();\r\n            this.mapScale = this.scaleLookup(this.zoomLevel);\r\n            console.log('Map scale registered as ' + this.mapScale);\r\n        });\r\n\r\n        map.on('mousemove', (cursorPosition) => {\r\n            this.touchScreen = false;\r\n            this.cursorLat = cursorPosition.latlng.lat.toFixed(3);\r\n            this.cursorLng = cursorPosition.latlng.lng.toFixed(3);\r\n        });\r\n    }\r\n\r\n    scaleLookup(mapZoom: number) {\r\n        switch (mapZoom) {\r\n            case 19: return '1,128';\r\n            case 18: return '2,256';\r\n            case 17: return '4,513';\r\n            case 16: return '9,027';\r\n            case 15: return '18,055';\r\n            case 14: return '36,111';\r\n            case 13: return '72,223';\r\n            case 12: return '144,447';\r\n            case 11: return '288,895';\r\n            case 10: return '577,790';\r\n            case 9: return '1,155,581';\r\n            case 8: return '2,311,162';\r\n            case 7: return '4,622,324';\r\n            case 6: return '9,244,649';\r\n            case 5: return '18,489,298';\r\n            case 4: return '36,978,596';\r\n            case 3: return '73,957,193';\r\n            case 2: return '147,914,387';\r\n            case 1: return '295,828,775';\r\n            case 0: return '591,657,550';\r\n        }\r\n    }\r\n\r\n\r\n    ngAfterViewInit() {}\r\n}"],"sourceRoot":"/source/"}